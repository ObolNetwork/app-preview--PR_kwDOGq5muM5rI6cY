(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9059],{73128:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/migrate-an-existing-validator/config-cluster",function(){return i(96653)}])},17177:function(e,r,i){"use strict";i.d(r,{M:function(){return SubmitButton}});var t=i(85893),s=i(61472);let SubmitButton=e=>{let{disabled:r}=e;return(0,t.jsx)(s.kC,{direction:"column",children:(0,t.jsx)(s.zx,{color:"primary",type:"submit",disabled:r,children:"Create Cluster Configuration"})})}},56736:function(e,r,i){"use strict";i.d(r,{dG:function(){return getMigrateDefaultFormValues},q0:function(){return getSoloDefaultFormValues},uZ:function(){return getDefaultFormValues}});var t=i(25426);let getDefaultFormValues=e=>({operators:(null==e?void 0:e.operators)?e.operators:t.fI,recipients:(null==e?void 0:e.recipients)?e.recipients:t.tT,singleAddress:(null==e?void 0:e.singleAddress)?e.singleAddress:"",feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",principal:(null==e?void 0:e.principal)?e.principal:"",enr:(null==e?void 0:e.enr)?e.enr:"",name:(null==e?void 0:e.name)?e.name:""}),getSoloDefaultFormValues=e=>({singleAddress:(null==e?void 0:e.singleAddress)?e.singleAddress:"",feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",name:(null==e?void 0:e.name)?e.name:""}),getMigrateDefaultFormValues=e=>({feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",name:(null==e?void 0:e.name)?e.name:""})},96653:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return h}});var t=i(85893),s=i(61472),n=i(67294),l=i(86105),o=i(98682);let d=n.createContext({clusterSize:l.dd,setClusterSize:()=>null}),ConfigClusterProvider=e=>{let{children:r}=e,i=(0,o.o)(e=>e.clusterDefinition),[s,u]=(0,n.useState)((null==i?void 0:i.clusterSize)||l.dd),a=(0,n.useMemo)(()=>({clusterSize:s,setClusterSize:u}),[s]);return(0,t.jsx)(d.Provider,{value:a,children:r})},useConfigCluster=()=>{let e=(0,n.useContext)(d);return e};var u=i(91997),a=i(17177),c=i(24967),f=i(25426),g=i(87536),p=i(11163),m=i(56736),C=i(92321);let WithdrawalConfigurationSection=()=>{let{address:e}=(0,C.m)(),{setValue:r,control:i,trigger:n,formState:{errors:l}}=(0,g.Gc)();return(0,t.jsx)(s.W2,{className:"withdrawal-configuration-section",css:{gap:"$xl"},alignItems:"start",children:(0,t.jsx)(s.kC,{direction:"column",css:{gap:"$md",pt:"$sm"},children:(0,t.jsx)(u.AN,{control:i,trigger:n,errors:l,handleOnSetAddress:i=>{i.preventDefault(),r("feeRecipientAddress",e),n("feeRecipientAddress")},heading:"Fee Recipient",description:"Enter the Fee Recipient Address to receive MEV rewards (if enabled), block proposal and priority fees.",fieldName:"feeRecipientAddress",className:"fee-recipient-address-section"})})})},ConfigClusterForm=()=>{let{address:e}=(0,C.m)(),{clusterSize:r,setClusterSize:i}=useConfigCluster(),n=(0,p.useRouter)(),d=(0,o.o)(e=>e.clusterDefinition),h=(0,o.o)(e=>e.completeMigrateClusterStep),v=(0,o.o)(e=>e.enableMigrateClusterStep),x=(0,o.o)(e=>e.updateClusterDefinition),A=(0,g.cI)({mode:"onChange",defaultValues:(0,m.dG)(d)});return(0,t.jsx)(g.RV,{...A,children:(0,t.jsx)(c.l0,{onSubmit:A.handleSubmit(i=>{h("config-cluster-migrate"),x({...i,creator:{address:e},operators:Array(r).fill({address:""}),validators:[,].fill({feeRecipientAddress:i.feeRecipientAddress,withdrawalAddress:l.je})});let t=v("confirm-configuration-migrate");n.push(t.href)}),children:(0,t.jsxs)(s.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,t.jsx)(s.W2,{className:"cluster-details",alignItems:"start",children:(0,t.jsx)(u.PQ,{register:A.register,clusterSize:r,setClusterSize:i,control:A.control,min:f.dd})}),(0,t.jsx)(WithdrawalConfigurationSection,{}),(0,t.jsx)(a.M,{disabled:!A.formState.isDirty||!A.formState.isValid||!e})]})})})},ConfigCluster=()=>(0,t.jsxs)(s.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,t.jsx)(s.xv,{variant:"h3",children:"Configure Cluster"}),(0,t.jsx)(ConfigClusterProvider,{children:(0,t.jsx)(ConfigClusterForm,{})})]});var h=ConfigCluster;ConfigCluster.layout="MigrateProgressTrackerLayout"}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=73128)}),_N_E=e.O()}]);