(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3666],{26843:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solo/confirm-configuration",function(){return t(27211)}])},27211:function(e,n,t){"use strict";t.r(n);var o=t(85893),i=t(24967),s=t(61472),r=t(98682),a=t(87536),c=t(15497),l=t(31431),u=t(11163),f=t(67294);t(86105);var d=t(91997),h=t(12606),g=t(37122),m=t(92321);let ConfirmConfiguration=()=>{let e=(0,g.Z)(),{address:n,chainId:t}=(0,m.m)(),{handleSubmit:C}=(0,a.cI)({mode:"onChange"}),x=(0,u.useRouter)(),[p,_]=(0,f.useState)(),[S,j]=(0,f.useState)(!1),[E,k]=(0,f.useState)(),[v,w]=(0,f.useState)(),y=(0,r.o)(e=>e.clusterDefinition),b=(0,r.o)(e=>e.setClusterDefinitionData),N=(0,r.o)(e=>e.completeSoloStep),A=(0,r.o)(e=>e.enableSoloStep),clearState=()=>{_(null),k(null),w(null),j(!1)},catchError=e=>{console.log(e),clearState()};if((0,f.useEffect)(()=>{if(p){let creatorConfigHash=async()=>{let o={creator_config_hash:p.config_hash},i=await (0,c.L6)(t,n,o,e);w(i)};creatorConfigHash()}},[p]),(0,f.useEffect)(()=>{if(v&&p){let postCall=async()=>{let e=await (0,l.c0)({token:v,data:p});if(!e.data.config_hash)throw"no config hash returned";k(e.data.config_hash),b(e.data)};postCall().catch(catchError)}},[v,p]),(0,f.useEffect)(()=>{if(E){N("confirm-configuration");let e=A("create-cluster");j(!1),x.push({pathname:e.href,query:{configHash:E}})}},[E]),!y)return(0,o.jsx)(s.xv,{children:"No cluster data ..."});let onSubmit=async()=>{let e=(0,c.KH)(y,"v1.8.0");_(e),j(!0)};return(0,o.jsxs)(s.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,o.jsx)(s.xv,{variant:"h3",children:"Confirm Configuration"}),(0,o.jsx)(i.l0,{onSubmit:C(onSubmit),children:(0,o.jsxs)(s.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,o.jsx)(s.W2,{className:"cluster-details",alignItems:"start",children:(0,o.jsx)(s.kC,{direction:"column",css:{gap:"$2xl"},children:(0,o.jsx)(d.uo,{})})}),(0,o.jsx)(d.XD,{}),(0,o.jsx)(h.EJ,{singleAddress:null==y?void 0:y.singleAddress,feeRecipientAddress:null==y?void 0:y.feeRecipientAddress}),(0,o.jsx)(s.kC,{direction:"column",children:(0,o.jsx)(s.zx,{color:"primary",type:"submit",css:{"& div":{m:0}},children:(0,o.jsxs)(o.Fragment,{children:[S&&(0,o.jsx)(s.yC,{}),"Confirm and Sign"]})})})]})})]})};n.default=ConfirmConfiguration,ConfirmConfiguration.layout="SoloProgressTrackerLayout"}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=26843)}),_N_E=e.O()}]);