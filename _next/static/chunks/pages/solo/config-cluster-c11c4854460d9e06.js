(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9950],{52667:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solo/config-cluster",function(){return s(57782)}])},17177:function(e,r,s){"use strict";s.d(r,{M:function(){return SubmitButton}});var i=s(85893),t=s(61472);let SubmitButton=e=>{let{disabled:r}=e;return(0,i.jsx)(t.kC,{direction:"column",children:(0,i.jsx)(t.zx,{color:"primary",type:"submit",disabled:r,children:"Create Cluster Configuration"})})}},56736:function(e,r,s){"use strict";s.d(r,{dG:function(){return getMigrateDefaultFormValues},q0:function(){return getSoloDefaultFormValues},uZ:function(){return getDefaultFormValues}});var i=s(25426);let getDefaultFormValues=e=>({operators:(null==e?void 0:e.operators)?e.operators:i.fI,recipients:(null==e?void 0:e.recipients)?e.recipients:i.tT,singleAddress:(null==e?void 0:e.singleAddress)?e.singleAddress:"",feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",principal:(null==e?void 0:e.principal)?e.principal:"",enr:(null==e?void 0:e.enr)?e.enr:"",name:(null==e?void 0:e.name)?e.name:""}),getSoloDefaultFormValues=e=>({singleAddress:(null==e?void 0:e.singleAddress)?e.singleAddress:"",feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",name:(null==e?void 0:e.name)?e.name:""}),getMigrateDefaultFormValues=e=>({feeRecipientAddress:(null==e?void 0:e.feeRecipientAddress)?e.feeRecipientAddress:"",name:(null==e?void 0:e.name)?e.name:""})},57782:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return v}});var i=s(85893),t=s(61472),n=s(91997),l=s(17177),o=s(24967),d=s(25426),a=s(67294),u=s(86105),c=s(98682);let f=a.createContext({validatorsSize:1,setValidatorsSize:()=>null,clusterSize:u.dd,setClusterSize:()=>null}),ConfigClusterProvider=e=>{let{children:r}=e,s=(0,c.o)(e=>e.clusterDefinition),[t,n]=(0,a.useState)((null==s?void 0:s.clusterSize)||u.dd),[l,o]=(0,a.useState)((null==s?void 0:s.validatorsSize)||1),d=(0,a.useMemo)(()=>({validatorsSize:l,setValidatorsSize:o,clusterSize:t,setClusterSize:n}),[t,l]);return(0,i.jsx)(f.Provider,{value:d,children:r})},useConfigCluster=()=>{let e=(0,a.useContext)(f);return e};var p=s(87536),g=s(11163),m=s(56736),C=s(92321);let WithdrawalConfigurationSection=()=>{let{address:e}=(0,C.m)(),{setValue:r,control:s,trigger:l,formState:{errors:o}}=(0,p.Gc)();return(0,i.jsx)(t.W2,{className:"withdrawal-configuration-section",css:{gap:"$xl"},alignItems:"start",children:(0,i.jsxs)(t.kC,{direction:"column",css:{gap:"$md",paddingTop:"$sm"},children:[(0,i.jsx)(n.AN,{control:s,trigger:l,errors:o,handleOnSetAddress:s=>{s.preventDefault(),r("singleAddress",e),l("singleAddress")},heading:"Withdrawal Address",description:"Address to receive skimming rewards and validator principal at exit.",fieldName:"singleAddress",className:"single-address-section"}),(0,i.jsx)(n.AN,{control:s,trigger:l,errors:o,handleOnSetAddress:s=>{s.preventDefault(),r("feeRecipientAddress",e),l("feeRecipientAddress")},heading:"Fee Recipient",description:"Enter the Fee Recipient Address to receive MEV rewards (if enabled), block proposal and priority fees.",fieldName:"feeRecipientAddress",className:"fee-recipient-address-section"})]})})},ConfigClusterForm=()=>{let{address:e}=(0,C.m)(),{clusterSize:r,setClusterSize:s,validatorsSize:a,setValidatorsSize:u}=useConfigCluster(),f=(0,g.useRouter)(),v=(0,c.o)(e=>e.clusterDefinition),h=(0,c.o)(e=>e.completeSoloStep),A=(0,c.o)(e=>e.enableSoloStep),x=(0,c.o)(e=>e.updateClusterDefinition),S=(0,p.cI)({mode:"onChange",defaultValues:(0,m.q0)(v)});return(0,i.jsx)(p.RV,{...S,children:(0,i.jsx)(o.l0,{onSubmit:S.handleSubmit(s=>{h("config-cluster"),x({...s,creator:{address:e},validatorsEthAmount:32*a,operators:Array(r).fill({address:""}),validators:Array(a).fill({feeRecipientAddress:s.feeRecipientAddress,withdrawalAddress:s.singleAddress})});let i=A("confirm-configuration");f.push(i.href)}),children:(0,i.jsxs)(t.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsxs)(t.W2,{className:"cluster-details",alignItems:"start",children:[(0,i.jsx)(n.PQ,{register:S.register,clusterSize:r,setClusterSize:s,control:S.control,min:d.dd}),(0,i.jsxs)(t.kC,{direction:"column",className:"operator-address-section",css:{gap:"$sm"},children:[(0,i.jsx)(t.xv,{css:{textTransform:"uppercase"},variant:"subline",color:"body",children:"Cluster Created By"}),(0,i.jsx)(t.xv,{color:"obolGreen",children:e})]})]}),(0,i.jsx)(n.J1,{control:S.control,validatorsSize:a,setValidatorsSize:u}),(0,i.jsx)(WithdrawalConfigurationSection,{}),(0,i.jsx)(l.M,{disabled:!S.formState.isDirty||!S.formState.isValid||!e})]})})})},ConfigCluster=()=>(0,i.jsxs)(t.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(t.xv,{variant:"h3",children:"Configure Cluster"}),(0,i.jsx)(ConfigClusterProvider,{children:(0,i.jsx)(ConfigClusterForm,{})})]});var v=ConfigCluster;ConfigCluster.layout="SoloProgressTrackerLayout"}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=52667)}),_N_E=e.O()}]);